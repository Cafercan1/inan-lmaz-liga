<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>KayÄ±t / GiriÅŸ</title>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<style>
body{font-family:Arial;padding:40px}
input,button{display:block;margin:10px 0;padding:8px;width:250px}
</style>
</head>
<body>

<h2>KayÄ±t Ol</h2>
<input id="regUser" placeholder="KullanÄ±cÄ± adÄ±">
<input id="regPass" type="password" placeholder="Åifre">
<select id="regTeam1">
  <option value="">TakÄ±m 1 SeÃ§</option>
  <option value="Marsilya">Marsilya</option>
  <option value="Juventus">Juventus</option>
  <option value="Borussia Dortmund">Borussia Dortmund</option>
  <option value="Ä°nter">Ä°nter</option>
  <option value="Lyon">Lyon</option>
  <option value="Liverpool">Liverpool</option>
  <option value="Atletico Madrid">Atletico Madrid</option>
  <option value="Bayer Leverkusen">Bayer Leverkusen</option>
  <option value="Sevilla">Sevilla</option>
  <option value="Arsenal">Arsenal</option>
</select>
<select id="regTeam2">
  <option value="">TakÄ±m 2 SeÃ§ (Opsiyonel)</option>
  <option value="Marsilya">Marsilya</option>
  <option value="Juventus">Juventus</option>
  <option value="Borussia Dortmund">Borussia Dortmund</option>
  <option value="Ä°nter">Ä°nter</option>
  <option value="Lyon">Lyon</option>
  <option value="Liverpool">Liverpool</option>
  <option value="Atletico Madrid">Atletico Madrid</option>
  <option value="Bayer Leverkusen">Bayer Leverkusen</option>
  <option value="Sevilla">Sevilla</option>
  <option value="Arsenal">Arsenal</option>
</select>
<button onclick="register()">KayÄ±t Ol</button>

<h2>GiriÅŸ Yap</h2>
<input id="logUser" placeholder="KullanÄ±cÄ± adÄ±">
<input id="logPass" type="password" placeholder="Åifre">
<button onclick="login()">GiriÅŸ</button>

<p id="msg"></p>

<script>
// ğŸ”¥ FIREBASE CONFIG (Kendi config'in ile deÄŸiÅŸtir)
const firebaseConfig = {
  apiKey: "XXXX",
  authDomain: "XXXX",
  projectId: "XXXX",
  storageBucket: "XXXX",
  messagingSenderId: "XXXX",
  appId: "XXXX"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

function register(){
  const u=document.getElementById("regUser").value.trim();
  const p=document.getElementById("regPass").value.trim();
  const t1=document.getElementById("regTeam1").value;
  const t2=document.getElementById("regTeam2").value;

  if(!u||!p||!t1){ msg.innerText="KullanÄ±cÄ± adÄ±, ÅŸifre ve en az 1 takÄ±m gerekli!"; return;}

  if(t1===t2 && t2!==""){ msg.innerText="AynÄ± takÄ±mÄ± iki kez seÃ§emezsin"; return;}

  db.collection("users").doc(u).get().then(d=>{
    if(d.exists){ msg.innerText="KullanÄ±cÄ± zaten var!"; return; }
    db.collection("users").doc(u).set({
      username:u,
      password:p,
      team1:t1,
      team2:t2,
      created:new Date()
    });
    msg.innerText="KayÄ±t baÅŸarÄ±lÄ± âœ…";
  });
}

function login(){
  const u=document.getElementById("logUser").value.trim();
  const p=document.getElementById("logPass").value.trim();
  db.collection("users").doc(u).get().then(d=>{
    if(!d.exists||d.data().password!==p){ msg.innerText="HatalÄ± giriÅŸ âŒ"; return; }
    localStorage.setItem("currentUser",u);
    window.location="site.html";
  });
}
</script>
</body>
</html>
